<div class="preview" ng-controller="PreviewCtrl">
  <md-card>
    <md-card-content>
      <div>
        <div ng-repeat="input in group.inputs track by $index" ng-hide="mask[$index]">
          <div class="padded">
            <div>{{$index + 1}} {{input.text}}</div>
            <div ng-if="input.responseType === 'likert'" class="likert input">
              <div layout="row">
                <span>{{input.leftSideLabel}}</span>
                <md-radio-group layout="row" ng-model="responses[$index]">
                  <md-radio-button ng-repeat="score in range(1, input.likertSteps)" value="{{score}}" 
                    aria-label="Likert {{score}}">
                  </md-radio-button>
                </md-radio-group>
                <span>{{input.rightSideLabel}}</span>
              </div>
            </div>

            <div ng-if="input.responseType === 'likert_smileys'" class="likert input">
              <div layout="row">
                <span>Frown</span>
                <md-radio-group layout="row" ng-model="responses[$index]">
                  <md-radio-button ng-repeat="score in range(1, 5)" value="{{score}}" 
                    aria-label="Likert smiley {{score}}">
                  </md-radio-button>
                </md-radio-group>
                <span>Smile</span>
              </div>
            </div>

            <div ng-if="input.responseType === 'open text'" class="input">
              <div>
                <md-input-container md-no-float>
                  <input type="text" placeholder="answer" ng-model="responses[$index]"></input>
                </md-input-container>
              </div>
            </div>

            <div ng-if="input.responseType === 'list' && !input.multiselect" class="input">
              <md-select placeholder="Select" ng-model="responses[$index]">
                <md-option ng-repeat="choice in input.listChoices" value="{{$index}}">
                  {{choice}}
                </md-option>
              </md-select>
            </div>

            <div ng-if="input.responseType === 'list' && input.multiselect" class="input">
              <md-checkbox ng-repeat="choice in input.listChoices" 
                ng-checked="inListString($index, $parent.$index)"
                ng-click="toggleStringItem($index, $parent.$index)">
                  {{choice}}
              </md-checkbox>
            </div>

            <div ng-if="input.responseType === 'photo'" class="input">
              Photo
            </div>

            <div ng-if="input.responseType === 'location'" class="input">
              Location
            </div>
          </div>
          <md-divider></md-divider>
        </div>
      </div>
    </md-card-content>
  </md-card>

  <md-button class="md-raised md-primary" ng-click="respond()">Respond</md-button>
</div>
