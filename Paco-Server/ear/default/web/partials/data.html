<div ng-controller="CsvCtrl" class="csv">
  <h2>
    <a href="#">Experiments</a> &gt 
    <a href="#/experiment/{{csvExperimentId}}">{{csvExperimentId}}</a> 
    &gt; Data
  </h2>

  <div ng-if="!csv && !error" class="status">
    <span>{{status}}</span>
    <md-progress-circular md-mode="indeterminate"></md-progress-circular>
  </div>

  <div ng-if="csv" class="csv-table">
    <table>
      <tr ng-repeat="row in table track by $index">
        <td ng-repeat="cell in row track by $index">{{cell | unquote}}</td>
      </tr>
    </table>  
  </div>

  <div ng-if="csv">
    <h2>Showing {{table.length - 1}} out of {{table.length - 1}}</h2>
    <h2>
      <a ng-href="{{csvData}}" download="export.csv">Download CSV</a>
    </h2> 
  </div>

  <div ng-if="error" class="error" ng-bind="error"></div>

</div>
