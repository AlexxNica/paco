<div ng-controller="ListCtrl" class="centered">
    <div>
    <md-card>
        <md-card-content>
            <div class="nav padded">
                <a href="#/">
                    <md-button>
                        Paco
                    </md-button>
                </a>
                <img src="/img/ic_chevron_right_24px.svg">
                <a href="#/hub">
                    <md-button>
                        Experiment Hub
                    </md-button>
                </a>

                <!--
                <div class="save">
                    <md-button ng-click="saveExperiment()">
                        Save Experiment
                    </md-button>

                    <md-button ng-click="discardChanges()">
                        Discard Changes
                    </md-button>
                </div>
                -->
            </div>
            <!--
            <md-tabs md-selected="state.tabId">
                <md-tab ng-repeat="tab in tabs">
                    <md-tab-label>
                        {{tab}}
                    </md-tab-label>
                    <md-tab-body></md-tab-body>
                </md-tab>
            </md-tabs>
            -->
        </md-card-content>
    </md-card>
    </div>
    <div>
        <md-card>
            <md-card-content>
                <h2>Search Parameters</h2>

                <md-input-container>
                    <label>Keywords</label>
                    <input ng-model="hubQuery.keywords">
                </md-input-container>
                <md-input-container>
                    <label>Creator</label>
                    <input ng-model="hubQuery.creator">
                </md-input-container>

                <md-button ng-click="applyHubFilter($event)">
                    Search
                </md-button>
                <md-button ng-click="clearHubFilter($event)">
                    Clear Filters
                </md-button>

            </md-card-content>
        </md-card>
    </div>
    <div ng-if="list.hub" class="group">
        <div ng-repeat="exp in list.hub">
            <md-card>
                <md-card-content class="padded">
                    <a href="#/experiment/{{exp.id}}">{{exp.title}}</a>
        <span ng-if="exp.organization" class="organization">
          administered by {{exp.organization}}
        </span>
                    <md-button ng-click="joinExperiment($event, exp)" class="join"
                               ng-disabled="joinedIndex.indexOf(exp.id) != -1">
                        Join
                    </md-button>
                </md-card-content>
            </md-card>
        </div>
    </div>

    <div ng-if="loading.hub" class="status">
        <span>Loading available experiments</span>
        <md-progress-linear md-mode="indeterminate"></md-progress-linear>
    </div>
    <!--
    <div ng-repeat="tab in tabs">
        <div ng-include="'partials/' + tab + '.html'" ng-if="state.tabId === $index">
        </div>
    </div>-->
</div>
